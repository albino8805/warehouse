
@{
	ViewBag.Title = "Index";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">

	<div class="row">
		<div class="col-md-12">
			<div class="text-right">
				<h4>Artículos</h4>
			</div>
		</div>
	</div>
	<div class="row form-group">
		<div class="col-md-12">
			<div class="text-right">
				<button type="button" class="btn btn-primary" id="btnNuevo"
						style="float: right;margin-left:10px;margin-bottom:10px;">
					Nuevo
				</button>
			</div>
		</div>
	</div>
	@*------------------------------- Captura modal ---------------------------------------*@
	<div class="modal" tabindex="-1" id="frmcaptura">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Artículos</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<form id="itemForm" class="row">
						<div class="form-group hidden">
							<label for='txtID'>ArtículosID</label>
							<input type="number" id="txtID" class="form-control" />
						</div>
						<div class="col-md-4">
							<label for='txtItem' class="form-label">Clave</label>
							<input type="text" id="txtItem" class="form-control" maxlength="200" required />
						</div>
						<div class="col-md-12">
							<label for='txtName' class="form-label">Nombre</label>
							<input type="text" id="txtName" class="form-control" required />
						</div>
						<div class="col-md-12">
							<label for='txtNameOC' class="form-label">Nombre OC</label>
							<input type="text" id="txtNameOC" class="form-control" required />
						</div>
						<div class="col-md-12">
							<label for='txtFamily' class="form-label">Familia</label>
							<select id="txtFamily" class="form-control" required>
								<option value="">Seleccione</option>
							</select>
						</div>
						<div class="col-md-12">
							<label for='txtSupplier' class="form-label">Proveedor</label>
							<select id="txtSupplier" class="form-control" required>
								<option value="">Seleccione</option>
							</select>
						</div>
						<div class="col-md-4">
							<label for='txtSATKey' class="form-label">ClaveSAT</label>
							<input type="text" id="txtSATKey" class="form-control" maxlength="100" required />
						</div>
						<div class="col-md-4">
							<label for='txtBarCode' class="form-label">Código de Barras</label>
							<input type="text" id="txtBarCode" class="form-control" maxlength="100" required />
						</div>
						<div class="col-md-4">
							<label for='txtCharge' class="form-label">Costo</label>
							<input type="text" id="txtCharge" class="form-control" maxlength="100" required />
						</div>
						<div class="col-md-4">
							<label for='txtStockDays' class="form-label">Días de Inv.</label>
							<input type="number" id="txtStockDays" class="form-control" required />
						</div>
						<div class="col-md-4">
							<br />
							<label class="checkbox-inline">
								<input type="checkbox" checked data-toggle="toggle" data-on="Sí" data-off="No" id="chbIsKit">Es un kit
							</label>
						</div>
						<div class="col-md-4">
							<br />
							<label class="checkbox-inline">
								<input type="checkbox" checked data-toggle="toggle" data-on="Sí" data-off="No" id="chbHandleStock">Maneja Existencia
							</label>
						</div>
						<div class="col-md-4">
							<br />
							<label class="checkbox-inline">
								<input type="checkbox" checked data-toggle="toggle" data-on="Sí" data-off="No" id="chbHandlePetitions">Maneja Pedimentos
							</label>
						</div>
						<div class="col-md-4">
							<label for='txtMax' class="form-label">Máximo</label>
							<input type="number" id="txtMax" class="form-control" required />
						</div>
						<div class="col-md-4">
							<label for='txtMin' class="form-label">Mínimo</label>
							<input type="number" id="txtMin" class="form-control" required />
						</div>
						<div class="col-md-4">
							<label for='txtCurrency' class="form-label">Moneda</label>
							<select id="txtCurrency" class="form-control" required>
								<option value="">Seleccione</option>
							</select>
						</div>
						<div class="col-md-4">
							<br />
							<label class="checkbox-inline">
								<input type="checkbox" checked data-toggle="toggle" data-on="Sí" data-off="No" id="chbOutdated">Obsoleto
							</label>
						</div>
						<div class="col-md-4">
							<label for='txtIEPS' class="form-label">IEPS</label>
							<input type="text" id="txtIEPS" class="form-control" required />
						</div>
						<div class="col-md-4">
							<label for='txtIVA' class="form-label">IVA</label>
							<input type="text" id="txtIVA" class="form-control" required />
						</div>
						<div class="col-md-4">
							<label for='txtReorder' class="form-label">Reorden</label>
							<input type="text" id="txtReorder" class="form-control" required />
						</div>
						<div class="col-md-4">
							<label for='txtDeliveryTime' class="form-label">Tiempo de Entrega</label>
							<input type="text" id="txtDeliveryTime" class="form-control" required />
						</div>
						<div class="col-md-4">
							<label for='txtLocation' class="form-label">Ubicación</label>
							<input type="text" id="txtLocation" class="form-control" required />
						</div>
						<div class="col-md-4">
							<br />
							<label class="checkbox-inline">
								<input type="checkbox" checked data-toggle="toggle" data-on="Sí" data-off="No" id="chbActive">Activo
							</label>
						</div>
						<div class="col-md-4">
							<label for='txtUM' class="form-label">UM</label>
							<select id="txtUM" class="form-control" required>
								<option value="">Seleccione</option>
							</select>
						</div>
						<div class="col-md-6">
							<br />
							<label for='flImage'>Imagen</label>
							<input type="file" id="flImage" class="form-control-file" onchange="showPreviewImage(event)" required />
						</div>
						<div class="col-md-6">
							<br />
							<img id="previewImg" src="" style="width:200px; height:auto;" />
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<div class="row">
						<div class="col-md-12">
							<button type="button" class="btn btn-secondary" id="btnCerrar">Cerrar</button>
							<button type="button" class="btn btn-primary" id="btnGuardar">Guardar</button>
						</div>
					</div>
					<div class="col-md-12">
						<div class="col-md-12">
							<div class="alert alert-success" id="alertaSuccess" style="display:none">
								<strong id="avisoS">Aviso!</strong>
							</div>
							<div class="alert alert-danger" id="alertaDanger" style="display:none">
								<strong id="avisoD">Aviso!</strong>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	@*------------------------------- Captura modal ---------------------------------------*@
	<div id="detalle">
		@Html.Partial("../Items/_ItemsGridPartial")
	</div>

	<div class="alert alert-info" id="alerta" style="display:none">
		<strong id="aviso">Aviso!</strong>
	</div>

	<div class="alert alert-success" id="alertaSuccess2" style="display:none">
		<strong id="avisoS2">Aviso!</strong>
	</div>
	<div class="alert alert-danger" id="alertaDanger2" style="display:none">
		<strong id="avisoD2">Aviso!</strong>
	</div>

</div> @*//Container fluid*@

@*//Nota #1: este script es para que el datatable muestre botón de exportar a excel e inicie con 100 rows*@
<script type="text/javascript">
	$(document).ready(function () {
		$('#dataGrid').DataTable({
			language: esLanguage
		});

		$('#dataGrid tbody').on('click', 'tr', function () {
			if ($(this).hasClass('selected')) {
				$(this).removeClass('selected');
			} else {
				$("tr.selected").removeClass('selected');
				$(this).addClass('selected');
			}
		});
	});
</script>

<!--<link href="~/Content/Scripts/DataTables/jquery.dataTables.min.css" rel="stylesheet" />-->
<link href="~/Content/myTableStyle.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/buttons/2.2.3/css/buttons.dataTables.min.css" rel="stylesheet" />
<!--script src="~/Content/Scripts/DataTables/jquery.dataTables.min.js"></!--script>-->
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.12.1/sl-1.4.0/datatables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.3/js/dataTables.buttons.min.js" type="text/javascript"></script>
<script src="~/Content/Scripts/DataTables/datatable.es.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.html5.min.js" type="text/javascript"></script>
<!--<link href="~/Content/Scripts/DataTables/datatableEstilos.css" rel="stylesheet" />-->
<script src="~/Content/Scripts/CP/items.js"></script>